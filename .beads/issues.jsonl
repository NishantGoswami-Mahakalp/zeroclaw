{"id":"zeroclaw-2cw","title":"Epic: Full daemon deployment with Cloudflare-only auth","description":"WHY: Move VPS from gateway-only to full daemon runtime while keeping web UI configuration available and enforcing Cloudflare Access as the only auth boundary. WHAT: Implement daemon-first deployment, remove pairing fallback in runtime auth, align config mount/runtime paths, and validate diagnostics. HOW: Execute phased migration with verifiable rollout checks and doctor/health gates.","acceptance_criteria":"1) VPS runs zeroclaw daemon in production; 2) Web UI config endpoints remain functional during daemon runtime; 3) Cloudflare Access is sole auth path when enabled; 4) /api/doctor reports zero errors in daemon mode; 5) Rollback path documented and tested.","status":"open","priority":1,"issue_type":"epic","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-26T07:58:15.880036866+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-26T07:58:15.880036866+05:30"}
{"id":"zeroclaw-2cw.1","title":"Task: Runtime auth hard cutover to Cloudflare Access","description":"WHY: Internal deployment requires no fallback auth paths and pairing must not be active in runtime auth flow. WHAT: Enforce Cloudflare JWT-only checks across API/SSE/WS/webhook paths, remove /pair route exposure, and clean gateway status messaging. HOW: Refactor gateway auth guards, route table, and related response payloads/tests to eliminate pairing runtime dependence.","acceptance_criteria":"1) API/SSE/WS/webhook reject non-Cloudflare-authenticated requests when cf_access_enabled=true; 2) /pair is not routed; 3) No runtime fallback to bearer pairing token remains; 4) cargo check passes.","status":"closed","priority":1,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-26T07:58:27.343120644+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-26T08:11:21.171694647+05:30","closed_at":"2026-02-26T08:11:21.171697462+05:30","dependencies":[{"issue_id":"zeroclaw-2cw.1","depends_on_id":"zeroclaw-2cw","type":"parent-child","created_at":"2026-02-26T07:58:27.344139848+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-2cw.1.1","title":"Subtask: Remove pairing routes and gateway pairing UX","description":"Delete /pair route binding and remove pairing-specific startup/log messages and health payload fields that imply token pairing flow.","acceptance_criteria":"1) /pair route removed from router; 2) gateway startup output references Cloudflare auth state only; 3) health/status payloads no longer expose pairing-only fields.","status":"closed","priority":1,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-26T07:58:37.734871799+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-26T08:10:51.271242456+05:30","closed_at":"2026-02-26T08:10:51.271246493+05:30","dependencies":[{"issue_id":"zeroclaw-2cw.1.1","depends_on_id":"zeroclaw-2cw.1","type":"parent-child","created_at":"2026-02-26T07:58:37.735617309+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-2cw.1.2","title":"Subtask: Enforce Cloudflare JWT-only auth guards","description":"Update API, SSE, WS, and webhook auth checks to require valid Cloudflare Access JWT when cf_access_enabled=true, with no bearer token fallback.","acceptance_criteria":"1) Auth middleware/guards check Cf-Access-Jwt-Assertion or CF_Authorization path only; 2) invalid/missing JWT returns 401; 3) no bearer fallback branch exists in these handlers.","status":"closed","priority":1,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-26T07:58:52.606928667+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-26T08:11:15.645348328+05:30","closed_at":"2026-02-26T08:11:15.645352185+05:30","dependencies":[{"issue_id":"zeroclaw-2cw.1.2","depends_on_id":"zeroclaw-2cw.1","type":"parent-child","created_at":"2026-02-26T07:58:52.607883631+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-2cw.2","title":"Task: Switch VPS runtime to daemon mode","description":"WHY: Production should run full supervised runtime instead of gateway-only process. WHAT: Update deployment command and container startup behavior to run  with current host/port settings. HOW: Change workflow run command, preserve rollback path, verify daemon components start.","acceptance_criteria":"1) deploy workflow starts container with daemon command; 2) logs show daemon supervisor start; 3) gateway remains reachable through Caddy; 4) rollback command documented.","status":"closed","priority":1,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-26T07:59:06.873275822+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-26T08:20:55.437576851+05:30","closed_at":"2026-02-26T08:20:55.437581129+05:30","dependencies":[{"issue_id":"zeroclaw-2cw.2","depends_on_id":"zeroclaw-2cw","type":"parent-child","created_at":"2026-02-26T07:59:06.874266623+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-2cw.2.1","title":"Subtask: Update deploy workflow to run daemon","description":"Modify .github/workflows/deploy-vps.yml docker run invocation to execute daemon mode explicitly and preserve env needed for bind/network.","acceptance_criteria":"1) workflow uses daemon command; 2) deployment run succeeds; 3) container starts without crash loops.","status":"closed","priority":1,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-26T07:59:06.900339816+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-26T08:13:26.325760021+05:30","closed_at":"2026-02-26T08:13:26.325763527+05:30","dependencies":[{"issue_id":"zeroclaw-2cw.2.1","depends_on_id":"zeroclaw-2cw.2","type":"parent-child","created_at":"2026-02-26T07:59:06.901161069+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-2cw.2.2","title":"Subtask: Verify daemon component startup in logs","description":"Capture and validate startup logs for gateway/channels/heartbeat/scheduler supervisor behavior after daemon switch.","acceptance_criteria":"1) logs include daemon start line; 2) expected component status lines present; 3) no fatal startup errors.","status":"open","priority":2,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-26T07:59:06.9287129+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-26T07:59:06.9287129+05:30","dependencies":[{"issue_id":"zeroclaw-2cw.2.2","depends_on_id":"zeroclaw-2cw.2","type":"parent-child","created_at":"2026-02-26T07:59:06.929696056+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-2cw.3","title":"Task: Align runtime config paths for daemon and web UI","description":"WHY: Current deployment mount path and runtime read path can diverge, causing stale config behavior. WHAT: Align container mounts and config/workspace paths so daemon, gateway, and UI all read/write the same config file. HOW: Update deployment mounts and verify live writes from /api/config persist to active path.","acceptance_criteria":"1) runtime reads mounted config path; 2) UI PUT /api/config writes same file used by daemon; 3) daemon_state.json written in expected mounted directory.","status":"closed","priority":1,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-26T07:59:22.327346226+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-26T08:21:00.147371531+05:30","closed_at":"2026-02-26T08:21:00.147375278+05:30","dependencies":[{"issue_id":"zeroclaw-2cw.3","depends_on_id":"zeroclaw-2cw","type":"parent-child","created_at":"2026-02-26T07:59:22.328510382+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-2cw.3.1","title":"Subtask: Fix container mount path to active config directory","description":"Update deployment bind mounts to match nonroot runtime config location used by process.","acceptance_criteria":"1) docker inspect shows expected host-\u003econtainer mapping; 2) startup log config path matches mounted location.","status":"closed","priority":1,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-26T07:59:22.358702863+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-26T08:14:56.935807715+05:30","closed_at":"2026-02-26T08:14:56.935812173+05:30","dependencies":[{"issue_id":"zeroclaw-2cw.3.1","depends_on_id":"zeroclaw-2cw.3","type":"parent-child","created_at":"2026-02-26T07:59:22.35969176+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-2cw.3.2","title":"Subtask: Validate live web UI config updates under daemon","description":"Confirm configuration changes made via web UI API are persisted and reflected without breaking daemon runtime.","acceptance_criteria":"1) PUT /api/config returns ok; 2) saved file changes on VPS; 3) daemon continues healthy after update.","status":"open","priority":2,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-26T07:59:22.389508044+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-26T07:59:22.389508044+05:30","dependencies":[{"issue_id":"zeroclaw-2cw.3.2","depends_on_id":"zeroclaw-2cw.3","type":"parent-child","created_at":"2026-02-26T07:59:22.390280054+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-2cw.4","title":"Task: Bring diagnostics in line with daemon-first deployment","description":"WHY: Doctor output should reflect daemon runtime expectations in production. WHAT: Ensure daemon state checks, health endpoints, and component statuses report correctly in daemon mode without false errors. HOW: Adjust doctor rules/messages and validate with live daemon deployment.","acceptance_criteria":"1) POST /api/doctor reports zero errors in daemon mode; 2) daemon state freshness shown as ok when running; 3) no misleading gateway-only error classification.","status":"closed","priority":2,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-26T07:59:34.103462963+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-26T08:21:04.753762829+05:30","closed_at":"2026-02-26T08:21:04.753767007+05:30","dependencies":[{"issue_id":"zeroclaw-2cw.4","depends_on_id":"zeroclaw-2cw","type":"parent-child","created_at":"2026-02-26T07:59:34.10457419+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-2cw.4.1","title":"Subtask: Normalize daemon state check severity and messaging","description":"Refine daemon state diagnostics to classify missing/stale/running states accurately for daemon deployments.","acceptance_criteria":"1) running daemon =\u003e ok; 2) stale daemon =\u003e warning/error with clear message; 3) tests/checks pass.","status":"closed","priority":2,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-26T07:59:34.13059239+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-26T08:14:10.555098372+05:30","closed_at":"2026-02-26T08:14:10.555102019+05:30","dependencies":[{"issue_id":"zeroclaw-2cw.4.1","depends_on_id":"zeroclaw-2cw.4","type":"parent-child","created_at":"2026-02-26T07:59:34.1313376+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-2cw.4.2","title":"Subtask: Add deployment verification checklist for doctor and health","description":"Document and execute post-deploy checks for /health and /api/doctor to prevent regressions.","acceptance_criteria":"1) checklist exists in task notes; 2) latest deploy verified against checklist.","status":"open","priority":3,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-26T07:59:34.157485413+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-26T07:59:34.157485413+05:30","dependencies":[{"issue_id":"zeroclaw-2cw.4.2","depends_on_id":"zeroclaw-2cw.4","type":"parent-child","created_at":"2026-02-26T07:59:34.158486193+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-2cw.5","title":"Task: Remove residual pairing surface from config and UX","description":"WHY: Internal policy requires Cloudflare-only auth and no pairing UX/config confusion. WHAT: Remove remaining pairing fields/messages from config schema, onboarding text, and gateway/API payloads where still exposed. HOW: Refactor schema and user-facing strings; keep only Cloudflare auth toggles and key/cert settings.","acceptance_criteria":"1) gateway config schema no longer advertises pairing fields; 2) onboarding/status text references Cloudflare auth only; 3) compile/test passes after cleanup.","status":"closed","priority":2,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-26T07:59:46.506540862+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-26T08:20:51.066238653+05:30","closed_at":"2026-02-26T08:20:51.06624218+05:30","dependencies":[{"issue_id":"zeroclaw-2cw.5","depends_on_id":"zeroclaw-2cw","type":"parent-child","created_at":"2026-02-26T07:59:46.507547913+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-2cw.5.1","title":"Subtask: Clean gateway config schema of pairing fields","description":"Delete require_pairing/paired_tokens/pair-rate settings from GatewayConfig and dependent code/tests.","acceptance_criteria":"1) schema and defaults compile without pairing fields; 2) serialization tests updated.","status":"closed","priority":2,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-26T07:59:46.536030101+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-26T08:20:43.149270859+05:30","closed_at":"2026-02-26T08:20:43.149274797+05:30","dependencies":[{"issue_id":"zeroclaw-2cw.5.1","depends_on_id":"zeroclaw-2cw.5","type":"parent-child","created_at":"2026-02-26T07:59:46.536787484+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-2cw.5.2","title":"Subtask: Remove pairing references from UI-facing responses","description":"Eliminate paired/pairing status keys and messages from health/status responses and startup banners.","acceptance_criteria":"1) no pairing terms in gateway startup output; 2) /api/status and /health payloads omit pairing keys.","status":"open","priority":3,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-26T07:59:46.56214359+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-26T07:59:46.56214359+05:30","dependencies":[{"issue_id":"zeroclaw-2cw.5.2","depends_on_id":"zeroclaw-2cw.5","type":"parent-child","created_at":"2026-02-26T07:59:46.562874874+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-2cw.6","title":"Task: Execute production rollout and verification","description":"WHY: Migration requires controlled rollout with explicit evidence of correctness. WHAT: Deploy daemon-mode build from main, verify Cloudflare-authenticated UI/API behavior, and capture rollback instructions. HOW: Run workflow, validate VPS and edge paths, and record run IDs with outcomes.","acceptance_criteria":"1) production run ID recorded; 2) frontend assets and API reachable through Caddy/Cloudflare; 3) Cloudflare-authenticated requests succeed; 4) rollback steps validated.","status":"open","priority":1,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-26T07:59:57.692820429+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-26T07:59:57.692820429+05:30","dependencies":[{"issue_id":"zeroclaw-2cw.6","depends_on_id":"zeroclaw-2cw","type":"parent-child","created_at":"2026-02-26T07:59:57.693584674+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-2cw.6.1","title":"Subtask: Verify Cloudflare-authenticated API path end-to-end","description":"Validate that requests after Cloudflare Access login are accepted while unauthenticated requests are denied.","acceptance_criteria":"1) unauthenticated call denied; 2) authenticated browser session works for UI and /api endpoints.","status":"open","priority":1,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-26T07:59:57.721090268+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-26T07:59:57.721090268+05:30","dependencies":[{"issue_id":"zeroclaw-2cw.6.1","depends_on_id":"zeroclaw-2cw.6","type":"parent-child","created_at":"2026-02-26T07:59:57.722090997+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-2cw.6.1.1","title":"Bug: Cloudflare Access login still fails API auth (401)","description":"WHY: Production dashboard and doctor remain unusable after Cloudflare Access login because authenticated requests are rejected as Unauthorized. WHAT: Investigate and fix incomplete migration from legacy pairing-token auth paths to Cloudflare Access JWT-only auth, including token extraction, claim validation, and proxy header/cookie forwarding. HOW discovered: During rollout verification on claw.mahakalp.dev after successful deploy run 22437704962, UI shows 'Failed to load dashboard: Unauthorized' and doctor returns 'Unauthorized' despite successful Cloudflare Access login. Hypothesis: replacement of pairing-token expectations with Cloudflare JWT handling is incomplete in one or more request paths/configs.","acceptance_criteria":"1) Cloudflare-authenticated browser session can load dashboard and doctor without 401; 2) /api/status returns 200 for authenticated user and 401 for unauthenticated user; 3) logs show successful JWT extraction and validation path (header or cookie) without fallback pairing logic; 4) root cause and fix steps are documented in issue comments with verification evidence.","status":"open","priority":1,"issue_type":"bug","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-26T16:04:45.21068104+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-26T16:04:45.21068104+05:30","dependencies":[{"issue_id":"zeroclaw-2cw.6.1.1","depends_on_id":"zeroclaw-2cw.6.1","type":"parent-child","created_at":"2026-02-26T16:04:45.214250582+05:30","created_by":"Nishant Goswami"}],"comments":[{"id":1,"issue_id":"zeroclaw-2cw.6.1.1","author":"Nishant Goswami","text":"Initial triage notes: likely multiple contributing gaps. (a) JWT aud claim may arrive as array, while current validation originally assumed string. (b) PEM parsing previously used URL-safe base64 decoder for PEM body, which can fail for standard PEM base64 (+,/ and padding). (c) Remaining possibility is missing Cf-Access-Jwt-Assertion forwarding through Caddy or cookie visibility at origin. Next verification should capture backend logs for JWT extraction + exact validation failure reason after a fresh deploy of fixes.","created_at":"2026-02-26T10:34:50Z"},{"id":2,"issue_id":"zeroclaw-2cw.6.1.1","author":"Nishant Goswami","text":"Root cause confirmed from code inspection: the deployment default config writes gateway.cf_access_public_key as a CERTIFICATE PEM in Dockerfile (Dockerfile:80), but JWT verification expects a PUBLIC KEY (SPKI). In parse_rsa_public_key, non-PUBLIC KEY PEM input fell through and was treated as raw bytes, causing signature verification failure for every Cloudflare JWT and resulting in 401 Unauthorized. This is independent of pairing-token migration. Additional hardening needed: audience claim can be string OR array; current implementation has been updated locally to support both. Pending deploy + live verification.","created_at":"2026-02-26T10:38:44Z"},{"id":3,"issue_id":"zeroclaw-2cw.6.1.1","author":"Nishant Goswami","text":"Step-by-step code-path scan outcome (post deploy 22440201399): requests reach /api/cost -\u003e gateway::api::handle_api_cost -\u003e require_auth -\u003e extract_cloudflare_jwt -\u003e validate_cloudflare_token. Current runtime log evidence: 'Signature verification failed: Signature verify error: ring::error::Unspecified' followed by 401. This confirms JWT is present and parsed, but signature does not match configured verification key. Prior base64 parse error (newline in PEM body) was fixed; current failure is key mismatch at signature verification stage. Likely cause: Cloudflare Access key rotation / token signed with different kid than single pinned key in gateway.cf_access_public_key.","created_at":"2026-02-26T12:00:32Z"}]}
{"id":"zeroclaw-2cw.6.2","title":"Subtask: Capture rollback procedure and last-known-good image","description":"Document one-command rollback and pin last-known-good image/tag for emergency recovery.","acceptance_criteria":"1) rollback command tested or dry-run validated; 2) known-good image/tag recorded in bead notes.","status":"open","priority":2,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-26T07:59:57.747256947+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-26T07:59:57.747256947+05:30","dependencies":[{"issue_id":"zeroclaw-2cw.6.2","depends_on_id":"zeroclaw-2cw.6","type":"parent-child","created_at":"2026-02-26T07:59:57.748172787+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-c46","title":"Feature: provider-aware model catalog + multi-model selection in Integrations","description":"WHY: Current Integrations modal can test provider connectivity and return model counts, but users cannot browse/select from fetched models or manage multiple provider models. This causes confusion (e.g., default model mismatches, provider status ambiguity) and blocks practical setup workflows. WHAT: Design and implement a provider-aware model management flow in Integrations, including real model discovery by API key, selectable model catalog, and support for storing multiple models per provider/profile. Ensure behavior differs cleanly for providers that do not support model listing. HOW discovered: During production debugging of Google integration setup, test now returns model counts but modal UX cannot present model choices; user requested multi-model support and explicit provider capability verification via web research.","acceptance_criteria":"1) Backlog plan includes provider capability matrix (supports list endpoint, auth requirements, pagination, rate limits) with source links; 2) UX spec supports selecting one default model and optional additional enabled models per provider; 3) providers lacking list API have clear fallback UX (manual entry) without broken tests; 4) data model/API changes are scoped with migration plan; 5) implementation tasks are split into independent beads with clear DoD and verification.","status":"open","priority":2,"issue_type":"feature","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-27T01:35:40.129030495+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-27T01:35:40.129030495+05:30","comments":[{"id":4,"issue_id":"zeroclaw-c46","author":"Nishant Goswami","text":"Initial external research snapshot (to be formalized in zeroclaw-c46.1):\\n- Google Gemini supports model listing via  with API key query param (). Source: https://ai.google.dev/api/models\\n- OpenAI supports model listing via  (API key auth). Source: https://platform.openai.com/docs/api-reference/models/list\\n- Anthropic supports model listing via  (API key/OAuth token semantics vary). Source: https://platform.claude.com/docs/en/api/models/list\\n- OpenRouter supports model listing via  (Bearer key). Source: https://openrouter.ai/docs/api/api-reference/models/get-models\\n- xAI docs show  for available models by API key. Source: https://docs.x.ai/developers/rest-api-reference/inference/models\\n- Mistral docs show  list endpoint. Source: https://docs.mistral.ai/api/endpoint/models\\n- DeepSeek docs indicate OpenAI-compatible format and model listing endpoint. Source: https://api-docs.deepseek.com/api/list-models\\n\\nWorking assumption to validate in matrix: major hosted providers in our AIModel catalog expose a list endpoint, while some local/special providers may require manual-only fallback or endpoint-specific handling.","created_at":"2026-02-26T20:06:37Z"},{"id":5,"issue_id":"zeroclaw-c46","author":"Nishant Goswami","text":"Corrected research note (no shell interpolation): Google Gemini supports model listing via endpoint https://generativelanguage.googleapis.com/v1beta/models with API key query param (source: https://ai.google.dev/api/models). OpenAI supports /v1/models (source: https://platform.openai.com/docs/api-reference/models/list). Anthropic supports /v1/models (source: https://platform.claude.com/docs/en/api/models/list). OpenRouter supports https://openrouter.ai/api/v1/models (source: https://openrouter.ai/docs/api/api-reference/models/get-models). xAI docs show /v1/models (source: https://docs.x.ai/developers/rest-api-reference/inference/models). Mistral docs show /v1/models (source: https://docs.mistral.ai/api/endpoint/models). DeepSeek docs show list-models endpoint and OpenAI-compatible schema (source: https://api-docs.deepseek.com/api/list-models).","created_at":"2026-02-26T20:06:52Z"},{"id":10,"issue_id":"zeroclaw-c46","author":"Nishant Goswami","text":"Workstream wrapped for now per product direction: research phase complete and closed (zeroclaw-c46.1 + .1.1). Implementation/design subtasks (zeroclaw-c46.2/.3/.4/.5) are intentionally left open in backlog and deferred until core system stabilization work is complete.","created_at":"2026-02-26T21:08:58Z"}]}
{"id":"zeroclaw-c46.1","title":"Research: provider model-listing capability matrix","description":"Parent: zeroclaw-c46\\nWHY: Not all providers expose model listing endpoints or same auth semantics.\\nWHAT: Compile a verified matrix for current AI model integrations (OpenAI, Anthropic, Gemini/Google, OpenRouter, DeepSeek, xAI, Mistral, Ollama, others in catalog): endpoint, auth header/query style, supports API key vs OAuth, response schema, pagination, error modes/rate limits.\\nHOW discovered: User requested explicit web verification before implementing multi-model UX.","acceptance_criteria":"1) Matrix committed to docs with source URLs and last-verified date; 2) each provider marked as LIST_SUPPORTED, LIST_PARTIAL, or MANUAL_ONLY; 3) parser strategy documented per schema variant.","status":"closed","priority":2,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-27T01:35:59.281505407+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-27T02:37:07.198318086+05:30","closed_at":"2026-02-27T02:37:07.198318086+05:30","close_reason":"Provider capability matrix delivered with verified classifications","dependencies":[{"issue_id":"zeroclaw-c46.1","depends_on_id":"zeroclaw-c46","type":"parent-child","created_at":"2026-02-27T01:35:59.283664364+05:30","created_by":"Nishant Goswami"}],"comments":[{"id":6,"issue_id":"zeroclaw-c46.1","author":"Nishant Goswami","text":"Research draft completed. Added capability matrix doc at docs/project/provider-model-listing-matrix-2026-02-27.md with: (a) LIST_SUPPORTED/LIST_PARTIAL/MANUAL_ONLY classification, (b) endpoint/auth/source mapping, (c) parser strategy by response shape, and (d) explicit open questions for providers requiring deeper verification (Moonshot, Z.AI/GLM regional variants, Qwen exact list contract, Qianfan).","created_at":"2026-02-26T20:23:15Z"},{"id":7,"issue_id":"zeroclaw-c46.1","author":"Nishant Goswami","text":"Progress update: expanded verification with additional provider docs. Confirmed LIST_SUPPORTED docs for Cohere (/v1/models), Groq (OpenAI-compatible /openai/v1/models), Together (/v1/models), Fireworks (list-models endpoint), Venice (list models endpoint), Bedrock (ListFoundationModels). Added/retained LIST_PARTIAL or MANUAL_ONLY for providers where primary endpoint contract remains unclear in this pass (Moonshot, Z.AI/GLM regional variants, Qwen DashScope exact list API, Qianfan, MiniMax). Created focused follow-up bead zeroclaw-c46.1.1 to close these uncertainties using primary docs only.","created_at":"2026-02-26T21:02:08Z"},{"id":9,"issue_id":"zeroclaw-c46.1","author":"Nishant Goswami","text":"Acceptance evidence: matrix committed at docs/project/provider-model-listing-matrix-2026-02-27.md, classes applied per provider (LIST_SUPPORTED/LIST_PARTIAL/MANUAL_ONLY), parser strategy documented by schema family, and unresolved items narrowed to MiniMax + potential future Z.AI endpoint changes.","created_at":"2026-02-26T21:07:07Z"}]}
{"id":"zeroclaw-c46.1.1","title":"Research follow-up: verify unresolved provider list endpoints","description":"Parent: zeroclaw-c46.1\\nWHY: Initial matrix still has LIST_PARTIAL/MANUAL_ONLY providers with uncertain model-list API contracts (Moonshot, Z.AI/GLM, Qwen DashScope, Qianfan, MiniMax).\\nWHAT: Resolve each unresolved provider against primary official API reference pages and capture exact endpoint/auth/response contract, including region-specific variants where applicable.\\nHOW discovered: Initial web pass surfaced secondary sources and overview pages but not enough primary endpoint-level certainty for production parser commitments.","acceptance_criteria":"1) Each unresolved provider is either upgraded to LIST_SUPPORTED with concrete endpoint contract and source, or retained as MANUAL_ONLY with evidence; 2) matrix updated with no 'uncertain' notes for targeted providers; 3) recommended implementation policy for each provider is explicit (live list, static fallback, manual-only).","status":"closed","priority":2,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-27T02:31:59.299965158+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-27T02:37:07.192456499+05:30","closed_at":"2026-02-27T02:37:07.192456499+05:30","close_reason":"Verification pass completed and matrix updated","dependencies":[{"issue_id":"zeroclaw-c46.1.1","depends_on_id":"zeroclaw-c46.1","type":"parent-child","created_at":"2026-02-27T02:31:59.301943807+05:30","created_by":"Nishant Goswami"}],"comments":[{"id":8,"issue_id":"zeroclaw-c46.1.1","author":"Nishant Goswami","text":"Follow-up verification complete. Updates applied to matrix doc: (1) Moonshot moved to LIST_SUPPORTED with documented /v1/models reference and endpoint behavior check (401 on models, 404 on invalid route), (2) Qwen DashScope moved to LIST_SUPPORTED on OpenAI-compatible base URL /models with endpoint behavior check, (3) Qianfan moved to LIST_SUPPORTED with explicit GET https://qianfan.baidubce.com/v2/models contract from official API reference, (4) Z.AI/GLM reclassified to MANUAL_ONLY for now because published docs index/openapi snapshot do not expose a model-list endpoint. Remaining unresolved providers: MiniMax and potential future Z.AI list endpoint revisions.","created_at":"2026-02-26T21:07:07Z"}]}
{"id":"zeroclaw-c46.2","title":"UX Plan: Integrations model selection workflow","description":"Parent: zeroclaw-c46\\nWHY: Current modal only reports model count; users cannot choose from fetched models or understand provider capability differences.\\nWHAT: Design modal flow for test -\u003e model list -\u003e search/select default -\u003e optional additional enabled models; include manual-entry fallback for providers without list APIs.\\nHOW discovered: User feedback on confusing default-model behavior and inability to configure multiple models.","acceptance_criteria":"1) Wireframes/state diagram produced; 2) explicit UX for providers with/without listing support; 3) validation rules defined (no empty default mode).","status":"open","priority":3,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-27T01:35:59.482258567+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-27T01:35:59.482258567+05:30","dependencies":[{"issue_id":"zeroclaw-c46.2","depends_on_id":"zeroclaw-c46","type":"parent-child","created_at":"2026-02-27T01:35:59.482990963+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-c46.3","title":"Design: model catalog data model and API contracts","description":"Parent: zeroclaw-c46\\nWHY: Current config holds a single default model string; no first-class structure for multiple models per provider/profile.\\nWHAT: Propose schema/API for storing provider model catalogs and selected models (default + enabled set), including backward compatibility with default_model and profile-scoped providers.\\nHOW discovered: Integrations setup needs multi-model management without breaking existing runtime selection paths.","acceptance_criteria":"1) RFC lists schema options and chosen design; 2) migration/backfill plan from current config documented; 3) API request/response contracts finalized with error semantics.","status":"open","priority":2,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-27T01:35:59.484148298+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-27T01:35:59.484148298+05:30","dependencies":[{"issue_id":"zeroclaw-c46.3","depends_on_id":"zeroclaw-c46","type":"parent-child","created_at":"2026-02-27T01:35:59.484962719+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-c46.4","title":"Implement backend: live model discovery + persistence","description":"Parent: zeroclaw-c46\\nWHY: Multi-model workflow requires persisted catalogs/selections and provider-aware fetch adapters.\\nWHAT: Implement backend adapters and endpoints for provider model discovery, normalize schemas, persist model set/default, and enforce validation rules.\\nHOW discovered: Current endpoint returns list but does not persist multi-model selections.","acceptance_criteria":"1) endpoints support save/read/update for selected models per provider/profile; 2) provider adapters use capability matrix with graceful manual-only fallback; 3) tests cover auth failures, empty lists, pagination, malformed payloads.","status":"open","priority":2,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-27T01:36:10.541019415+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-27T01:36:10.541019415+05:30","dependencies":[{"issue_id":"zeroclaw-c46.4","depends_on_id":"zeroclaw-c46","type":"parent-child","created_at":"2026-02-27T01:36:10.541955625+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-c46.5","title":"Implement frontend: searchable model picker + multi-select","description":"Parent: zeroclaw-c46\\nWHY: Users need actionable model selection, not just model count.\\nWHAT: Build modal UI with searchable provider model picker, multi-select for additional models, default selection enforcement, and clear status messaging.\\nHOW discovered: User requested support for connecting multiple models and no-empty-default behavior.","acceptance_criteria":"1) modal supports selecting default + additional models; 2) save is blocked until valid default selected; 3) provider without listing support offers manual entry path; 4) e2e/manual verification documented.","status":"open","priority":2,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-27T01:36:10.638503339+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-27T01:36:10.638503339+05:30","dependencies":[{"issue_id":"zeroclaw-c46.5","depends_on_id":"zeroclaw-c46","type":"parent-child","created_at":"2026-02-27T01:36:10.63906815+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-dwk","title":"Refactor plan: separate orchestrator runtime from provider catalog","description":"WHY: Current fork introduced dual provider config sources (runtime TOML and provider DB) causing ambiguous precedence and chat failures. WHAT: Define and execute a stabilization-first refactor that keeps orchestrator runtime (default_provider/default_model/api_key in config.toml) separate from provider catalog/sub-agent data, with explicit bridge actions only. HOW discovered: Agent chat works when Configuration (TOML) is set but fails when only Providers DB is configured; investigation against upstream temp-claw confirms orchestrator fields are TOML-native and provider DB is fork-added.","acceptance_criteria":"1) Single authoritative runtime source for Agent Chat is documented and enforced; 2) provider catalog does not implicitly override runtime provider/model/key; 3) explicit bridge action exists with audit logging; 4) UI copy distinguishes controller runtime vs sub-agents/provider catalog; 5) regression tests cover precedence and no-fallback behavior.","status":"open","priority":1,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-27T04:56:01.236140859+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-27T04:56:01.236140859+05:30","comments":[{"id":11,"issue_id":"zeroclaw-dwk","author":"Nishant Goswami","text":"Initial plan documented at docs/project/orchestrator-vs-provider-catalog-plan-2026-02-27.md. Scope aligns with upstream architecture: orchestrator runtime (config.toml) vs provider catalog (DB) with explicit bridge only and no implicit overrides.","created_at":"2026-02-26T23:27:07Z"}]}
{"id":"zeroclaw-dwk.1","title":"Design: config authority and precedence contract","description":"Parent: zeroclaw-dwk\\nWHY: Ambiguous authority causes runtime/provider mismatches.\\nWHAT: Write explicit precedence matrix for orchestrator runtime, provider catalog, integrations shortcuts, env vars, and profile context. Define read/write boundaries per API route.\\nHOW discovered: runtime picked unexpected provider/model combinations and ignored provider DB keys in expected flows.","acceptance_criteria":"1) Precedence table committed; 2) route-level ownership map for /api/config, /api/providers, /api/integrations; 3) no implicit cross-write rules.","status":"open","priority":1,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-27T04:56:23.13449899+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-27T04:56:23.13449899+05:30","dependencies":[{"issue_id":"zeroclaw-dwk.1","depends_on_id":"zeroclaw-dwk","type":"parent-child","created_at":"2026-02-27T04:56:23.13644345+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-dwk.2","title":"Backend: enforce strict source separation","description":"Parent: zeroclaw-dwk\\nWHY: Runtime currently has bridge logic and accidental override paths.\\nWHAT: Ensure agent runtime reads orchestrator config only; provider DB APIs remain catalog-only. Remove implicit DB-\u003eruntime overlay in chat path. Add explicit bridge endpoint to copy selected provider into orchestrator runtime when user requests it.\\nHOW discovered: chat only reliable when config.toml provider set directly.","acceptance_criteria":"1) run_gateway_chat uses runtime config source only; 2) no DB override in chat path; 3) bridge endpoint requires explicit action and returns diff of changes; 4) tests for no-fallback and mismatch prevention.","status":"open","priority":1,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-27T04:56:23.336808284+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-27T04:56:23.336808284+05:30","dependencies":[{"issue_id":"zeroclaw-dwk.2","depends_on_id":"zeroclaw-dwk","type":"parent-child","created_at":"2026-02-27T04:56:23.339123943+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-dwk.3","title":"Frontend: clarify runtime vs provider catalog UX","description":"Parent: zeroclaw-dwk\\nWHY: Users cannot tell which screen controls active chat provider.\\nWHAT: Update labels/help text and actions: Configuration page = Runtime Orchestrator; Providers page = catalog/sub-agents. Add explicit 'Apply to Runtime' CTA from Providers/Integrations where relevant.\\nHOW discovered: user confusion and conflicting saves between pages.","acceptance_criteria":"1) no ambiguous wording about provider control; 2) explicit action for runtime switch; 3) success/error feedback includes which source changed.","status":"open","priority":2,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-27T04:56:23.441102962+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-27T04:56:23.441102962+05:30","dependencies":[{"issue_id":"zeroclaw-dwk.3","depends_on_id":"zeroclaw-dwk","type":"parent-child","created_at":"2026-02-27T04:56:23.442410032+05:30","created_by":"Nishant Goswami"}]}
{"id":"zeroclaw-dwk.4","title":"QA: regression suite for provider-source semantics","description":"Parent: zeroclaw-dwk\\nWHY: Provider-source regressions are high-impact and easy to reintroduce.\\nWHAT: Add integration/regression tests validating: runtime chat uses orchestrator config, provider DB changes do not alter runtime unless explicit bridge action, no-fallback behavior enforced, and model-provider mismatch handling.\\nHOW discovered: repeated production regressions during stabilization.","acceptance_criteria":"1) automated tests cover all critical precedence paths; 2) failing tests reproduce current bug classes; 3) test docs include manual verification matrix.","status":"open","priority":1,"issue_type":"task","owner":"nishaant.goswami@gmail.com","created_at":"2026-02-27T04:56:23.445444684+05:30","created_by":"Nishant Goswami","updated_at":"2026-02-27T04:56:23.445444684+05:30","dependencies":[{"issue_id":"zeroclaw-dwk.4","depends_on_id":"zeroclaw-dwk","type":"parent-child","created_at":"2026-02-27T04:56:23.447054063+05:30","created_by":"Nishant Goswami"}]}
